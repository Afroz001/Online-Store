{"ast":null,"code":"var _jsxFileName = \"/Users/steutama/Documents/Documents/team19/react_app/src/components/CheckoutComponent/CheckoutComponent.js\";\nimport React, { Component, Fragment } from \"react\";\nimport { Card, CardContent, Typography } from \"@material-ui/core\";\nimport { connect } from \"react-redux\";\nimport \"./CheckoutComponent.css\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Button from \"@material-ui/core/Button\";\nimport { ADD_ITEM, CLEAR_CART, DELETE_ITEM, REMOVE_ITEM } from \"../../redux/actions\";\n\nconst mapStateToProps = state => {\n  return {\n    cart: state.cart\n  };\n};\n\nclass CheckoutComponent extends Component {\n  constructor() {\n    super();\n    this.totalCost = this.totalCost.bind(this);\n    this.thankYouRedirect = this.thankYouRedirect.bind(this);\n    this.cartDisplayState = this.cartDisplayState.bind(this);\n  }\n\n  totalCost() {\n    return this.props.cart.reduce((a, b) => a + (b[\"price\"] * b[\"count\"] || 0), 0);\n  }\n\n  thankYouRedirect() {\n    this.props.dispatch(CLEAR_CART());\n    alert(\"Thanks for shopping with us!\");\n    this.props.history.push(\"/\");\n  }\n\n  cartDisplayState() {\n    return this.props.cart.length <= 0 ? \"none\" : \"flex\";\n  }\n\n  handleCheckOut() {\n    let array = [];\n    this.props.cart.map(item => {\n      array.push({\n        quantity: item.count,\n        currentUnitPrice: item.price,\n        itemName: item.name\n      });\n    });\n    fetch(\"http://localhost:3001/api/orders\", {\n      method: \"post\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify({\n        items: array\n      })\n    }).then(res => {\n      if (res.status === 201) {\n        this.thankYouRedirect();\n      }\n    });\n  }\n\n  render() {\n    console.log(this.props.cart);\n    const checkoutButtons = {\n      \"font-family\": '-apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif',\n      \"font-size\": \"small\",\n      \"padding-left\": \"0\",\n      \"padding-right\": \"2\",\n      \"justify-content\": \"left\",\n      \"min-width\": \"0\",\n      \"text-transform\": \"capitalize\"\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, this.props.cart.map(item => {\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"checkoutImages\",\n        src: item.image,\n        alt: \"eet\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(CardContent, {\n        component: \"span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, item.name), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Quantity: \", item.count), React.createElement(\"span\", {\n        className: \"checkoutPricing\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"$\", item.count * item.price), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(Button, {\n        style: checkoutButtons,\n        onClick: () => this.props.dispatch(ADD_ITEM(item)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Add\"), React.createElement(Button, {\n        style: checkoutButtons,\n        onClick: () => this.props.dispatch(REMOVE_ITEM(item)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Remove\"), React.createElement(Button, {\n        style: checkoutButtons,\n        onClick: () => this.props.dispatch(DELETE_ITEM(item)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Delete\")))), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }));\n    }), React.createElement(\"div\", {\n      style: {\n        display: this.cartDisplayState()\n      },\n      className: \"checkoutPricing\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"subtitle1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Total: $\", this.totalCost())), React.createElement(\"div\", {\n      style: {\n        display: this.cartDisplayState(),\n        clear: \"right\"\n      },\n      className: \"checkoutButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: () => {\n        this.handleCheckOut(); //   this.thankYouRedirect;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Buy It\")));\n  }\n\n}\n\nexport default connect(mapStateToProps)(CheckoutComponent);","map":{"version":3,"sources":["/Users/steutama/Documents/Documents/team19/react_app/src/components/CheckoutComponent/CheckoutComponent.js"],"names":["React","Component","Fragment","Card","CardContent","Typography","connect","Divider","Button","ADD_ITEM","CLEAR_CART","DELETE_ITEM","REMOVE_ITEM","mapStateToProps","state","cart","CheckoutComponent","constructor","totalCost","bind","thankYouRedirect","cartDisplayState","props","reduce","a","b","dispatch","alert","history","push","length","handleCheckOut","array","map","item","quantity","count","currentUnitPrice","price","itemName","name","fetch","method","headers","Accept","credentials","body","JSON","stringify","items","then","res","status","render","console","log","checkoutButtons","image","display","clear"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { Card, CardContent, Typography } from \"@material-ui/core\";\nimport { connect } from \"react-redux\";\nimport \"./CheckoutComponent.css\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Button from \"@material-ui/core/Button\";\nimport {\n  ADD_ITEM,\n  CLEAR_CART,\n  DELETE_ITEM,\n  REMOVE_ITEM\n} from \"../../redux/actions\";\n\nconst mapStateToProps = state => {\n  return {\n    cart: state.cart\n  };\n};\n\nclass CheckoutComponent extends Component {\n  constructor() {\n    super();\n    this.totalCost = this.totalCost.bind(this);\n    this.thankYouRedirect = this.thankYouRedirect.bind(this);\n    this.cartDisplayState = this.cartDisplayState.bind(this);\n  }\n\n  totalCost() {\n    return this.props.cart.reduce(\n      (a, b) => a + (b[\"price\"] * b[\"count\"] || 0),\n      0\n    );\n  }\n\n  thankYouRedirect() {\n    this.props.dispatch(CLEAR_CART());\n    alert(\"Thanks for shopping with us!\");\n    this.props.history.push(\"/\");\n  }\n\n  cartDisplayState() {\n    return this.props.cart.length <= 0 ? \"none\" : \"flex\";\n  }\n\n  handleCheckOut() {\n    let array = [];\n    this.props.cart.map(item => {\n      array.push({\n        quantity: item.count,\n        currentUnitPrice: item.price,\n        itemName: item.name\n      });\n    });\n    fetch(\"http://localhost:3001/api/orders\", {\n      method: \"post\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify({\n        items: array\n      })\n    }).then(res => {\n      if (res.status === 201) {\n        this.thankYouRedirect();\n      }\n    });\n  }\n\n  render() {\n    console.log(this.props.cart);\n\n    const checkoutButtons = {\n      \"font-family\":\n        '-apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif',\n      \"font-size\": \"small\",\n      \"padding-left\": \"0\",\n      \"padding-right\": \"2\",\n      \"justify-content\": \"left\",\n      \"min-width\": \"0\",\n      \"text-transform\": \"capitalize\"\n    };\n\n    return (\n      <div>\n        {this.props.cart.map(item => {\n          return (\n            <Fragment>\n              <Card>\n                <img className=\"checkoutImages\" src={item.image} alt=\"eet\" />\n                {/* <img\n                  className=\"checkoutImages\"\n                  src={<item className=\"image\"></item>}\n                  alt=\"eet\"\n                /> */}\n                <CardContent component=\"span\">\n                  <Typography variant=\"h5\">{item.name}</Typography>\n                  <span>Quantity: {item.count}</span>\n                  <span className=\"checkoutPricing\">\n                    ${item.count * item.price}\n                  </span>\n                  <div>\n                    <Button\n                      style={checkoutButtons}\n                      onClick={() => this.props.dispatch(ADD_ITEM(item))}\n                    >\n                      Add\n                    </Button>\n                    <Button\n                      style={checkoutButtons}\n                      onClick={() => this.props.dispatch(REMOVE_ITEM(item))}\n                    >\n                      Remove\n                    </Button>\n                    <Button\n                      style={checkoutButtons}\n                      onClick={() => this.props.dispatch(DELETE_ITEM(item))}\n                    >\n                      Delete\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n              <Divider />\n            </Fragment>\n          );\n        })}\n\n        <div\n          style={{ display: this.cartDisplayState() }}\n          className=\"checkoutPricing\"\n        >\n          <Typography variant={\"subtitle1\"}>\n            Total: ${this.totalCost()}\n          </Typography>\n        </div>\n        <div\n          style={{ display: this.cartDisplayState(), clear: \"right\" }}\n          className=\"checkoutButton\"\n        >\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => {\n              this.handleCheckOut();\n              //   this.thankYouRedirect;\n            }}\n          >\n            Buy It\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps)(CheckoutComponent);\n"]},"metadata":{},"sourceType":"module"}