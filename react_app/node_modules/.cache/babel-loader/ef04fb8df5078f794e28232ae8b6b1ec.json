{"ast":null,"code":"var _jsxFileName = \"/Users/steutama/Documents/Documents/team19/react_app/src/components/AccountProfile/EditProfile.js\";\nimport React, { Component } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Box from \"@material-ui/core/Box\";\nimport Container from \"@material-ui/core/Container\";\nimport \"./Profile.css\"; // import accountData from \"../AccountData.js\";\n// import sign_in from \"../../redux/actions.js\";\n\nclass EditProfile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"default\",\n      password: \"default\",\n      first_name: \"default\",\n      last_name: \"default\",\n      fail: false\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:3001/api/profile\", {\n      method: \"GET\",\n      credentials: \"include\"\n    }).then(response => response.json()).then(json => {\n      if (json === null) {\n        this.props.history.push(\"/login\");\n      } else {\n        this.setState({\n          first_name: json.firstName,\n          last_name: json.lastName,\n          email: json.email,\n          password: json.password\n        });\n      }\n    });\n  }\n\n  handleUpdate() {\n    fetch(\"http://localhost:3001/api/profile/edit\", {\n      method: \"PATCH\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify({\n        email: this.state.email,\n        password: this.state.password,\n        firstName: this.state.first_name,\n        lastName: this.state.last_name\n      })\n    }).then(res => {\n      if (res.status === 500) {\n        this.setState({\n          fail: true\n        });\n      } else {\n        // this.props.dispatch(sign_in());\n        this.props.history.push(\"/\");\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Edit your Profile\"), React.createElement(\"form\", {\n      className: \"form\",\n      noValidate: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      variant: \"outlined\",\n      fullWidth: true,\n      margin: \"normal\",\n      name: \"firstName\",\n      id: \"email\",\n      label: \"First Name\",\n      onChange: e => {\n        this.setState({\n          first_name: e.target.value.toString()\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      variant: \"outlined\",\n      fullWidth: true,\n      margin: \"normal\",\n      name: \"lastName\",\n      id: \"lastName\",\n      label: \"Last Name\",\n      onChange: e => {\n        this.setState({\n          last_name: e.target.value.toString()\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      fullWidth: true,\n      id: \"email\",\n      label: \"Email Address\",\n      name: \"email\",\n      onChange: e => {\n        this.setState({\n          email: e.target.value.toString()\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      variant: \"outlined\",\n      fullWidth: true,\n      margin: \"normal\",\n      name: \"password\",\n      type: \"password\",\n      id: \"password\",\n      label: \"Password\",\n      onChange: e => {\n        this.setState({\n          password: e.target.value.toString()\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(Button, {\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      className: \"submit\",\n      onClick: e => {\n        this.handleUpdate(); //replace with database calls later\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Save\"))), React.createElement(Box, {\n      mt: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default EditProfile;","map":{"version":3,"sources":["/Users/steutama/Documents/Documents/team19/react_app/src/components/AccountProfile/EditProfile.js"],"names":["React","Component","Button","TextField","Box","Container","EditProfile","constructor","props","state","email","password","first_name","last_name","fail","componentDidMount","fetch","method","credentials","then","response","json","history","push","setState","firstName","lastName","handleUpdate","headers","Accept","body","JSON","stringify","res","status","render","e","target","value","toString"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Box from \"@material-ui/core/Box\";\nimport Container from \"@material-ui/core/Container\";\nimport \"./Profile.css\";\n\n// import accountData from \"../AccountData.js\";\n// import sign_in from \"../../redux/actions.js\";\n\nclass EditProfile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"default\",\n      password: \"default\",\n      first_name: \"default\",\n      last_name: \"default\",\n      fail: false\n    };\n  }\n  componentDidMount() {\n    fetch(`http://localhost:3001/api/profile`, {\n      method: \"GET\",\n      credentials: \"include\"\n    })\n      .then(response => response.json())\n      .then(json => {\n        if (json === null) {\n          this.props.history.push(\"/login\");\n        } else {\n          this.setState({\n            first_name: json.firstName,\n            last_name: json.lastName,\n            email: json.email,\n            password: json.password\n          });\n        }\n      });\n  }\n  handleUpdate() {\n    fetch(\"http://localhost:3001/api/profile/edit\", {\n      method: \"PATCH\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify({\n        email: this.state.email,\n        password: this.state.password,\n        firstName: this.state.first_name,\n        lastName: this.state.last_name\n      })\n    }).then(res => {\n      if (res.status === 500) {\n        this.setState({\n          fail: true\n        });\n      } else {\n        // this.props.dispatch(sign_in());\n        this.props.history.push(\"/\");\n      }\n    });\n  }\n  render() {\n    return (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <div className=\"title\">\n          {/* <Typography component=\"h1\" variant=\"h5\">\n            Edit your Profile\n          </Typography> */}\n          <h1>Edit your Profile</h1>\n          <form className=\"form\" noValidate>\n            <TextField\n              variant=\"outlined\"\n              fullWidth\n              margin=\"normal\"\n              name=\"firstName\"\n              id=\"email\"\n              label=\"First Name\"\n              onChange={e => {\n                this.setState({\n                  first_name: e.target.value.toString()\n                });\n              }}\n            />\n\n            <TextField\n              variant=\"outlined\"\n              fullWidth\n              margin=\"normal\"\n              name=\"lastName\"\n              id=\"lastName\"\n              label=\"Last Name\"\n              onChange={e => {\n                this.setState({\n                  last_name: e.target.value.toString()\n                });\n              }}\n            />\n\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              onChange={e => {\n                this.setState({\n                  email: e.target.value.toString()\n                });\n              }}\n            />\n\n            <TextField\n              variant=\"outlined\"\n              fullWidth\n              margin=\"normal\"\n              name=\"password\"\n              type=\"password\"\n              id=\"password\"\n              label=\"Password\"\n              onChange={e => {\n                this.setState({\n                  password: e.target.value.toString()\n                });\n              }}\n            />\n\n            <Button\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className=\"submit\"\n              onClick={e => {\n                this.handleUpdate();\n                //replace with database calls later\n              }}\n            >\n              Save\n            </Button>\n          </form>\n        </div>\n        <Box mt={8}></Box>\n      </Container>\n    );\n  }\n}\n\nexport default EditProfile;\n"]},"metadata":{},"sourceType":"module"}