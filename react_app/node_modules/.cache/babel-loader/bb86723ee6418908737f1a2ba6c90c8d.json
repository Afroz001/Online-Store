{"ast":null,"code":"var _jsxFileName = \"/Users/steutama/Documents/Documents/team19/react_app/src/components/AdminPage/UserTable.js\";\nimport React from \"react\";\nimport MaterialTable from \"material-table\";\nimport OrderTable from \"./OrderTable\";\n\nclass UserTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {}\n    };\n  }\n\n  componentWillMount() {\n    fetch(\"http://localhost:3001/api/admin/users\", {\n      method: \"GET\",\n      credentials: \"include\"\n    }).then(response => response.json()).then(json => {\n      if (json !== null) {\n        this.setState({\n          data: json\n        });\n      }\n    });\n  }\n\n  render() {\n    function parseUserData(data) {\n      const ret = [];\n\n      for (let i = 0; i < data.length; i++) {\n        const userData = {\n          id: data[i]._id,\n          name: data[i].firstName,\n          surname: data[i].lastName,\n          email: data[i].email,\n          itemsBought: 0,\n          moneySpent: 0,\n          isPremium: \"No\"\n        };\n        ret.push(userData);\n      }\n\n      return ret;\n    }\n\n    return React.createElement(MaterialTable, {\n      title: \"All Users\",\n      columns: [{\n        title: \"ID\",\n        field: \"id\"\n      }, {\n        title: \"Name\",\n        field: \"name\"\n      }, {\n        title: \"Surname\",\n        field: \"surname\"\n      }, {\n        title: \"Email\",\n        field: \"email\"\n      }, {\n        title: \"Items Bought\",\n        field: \"itemsBought\",\n        type: \"numeric\"\n      }, {\n        title: \"Money Spent\",\n        field: \"moneySpent\",\n        type: \"numeric\"\n      }, {\n        title: \"Premium\",\n        field: \"isPremium\"\n      }],\n      data: parseUserData(this.state.data),\n      detailPanel: rowData => {\n        return React.createElement(OrderTable, {\n          userId: rowData.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        });\n      },\n      editable: {\n        onRowDelete: oldData => fetch(\"http://localhost:3001/api/admin/\".concat(oldData.id), {\n          method: \"DELETE\",\n          credentials: \"include\"\n        }).then(response => response.json()).then(json => {\n          if (json !== null) {\n            window.location.reload();\n          } else {\n            console.log(\"Deletion Failed\");\n          }\n        })\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default UserTable;","map":{"version":3,"sources":["/Users/steutama/Documents/Documents/team19/react_app/src/components/AdminPage/UserTable.js"],"names":["React","MaterialTable","OrderTable","UserTable","Component","constructor","props","state","data","componentWillMount","fetch","method","credentials","then","response","json","setState","render","parseUserData","ret","i","length","userData","id","_id","name","firstName","surname","lastName","email","itemsBought","moneySpent","isPremium","push","title","field","type","rowData","onRowDelete","oldData","window","location","reload","console","log"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport MaterialTable from \"material-table\";\nimport OrderTable from \"./OrderTable\";\n\nclass UserTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {}\n    };\n  }\n\n  componentWillMount() {\n    fetch(\"http://localhost:3001/api/admin/users\", {\n      method: \"GET\",\n      credentials: \"include\"\n    })\n      .then(response => response.json())\n      .then(json => {\n        if (json !== null) {\n          this.setState({ data: json });\n        }\n      });\n  }\n  render() {\n    function parseUserData(data) {\n      const ret = [];\n      for (let i = 0; i < data.length; i++) {\n        const userData = {\n          id: data[i]._id,\n          name: data[i].firstName,\n          surname: data[i].lastName,\n          email: data[i].email,\n          itemsBought: 0,\n          moneySpent: 0,\n          isPremium: \"No\"\n        };\n        ret.push(userData);\n      }\n      return ret;\n    }\n    return (\n      <MaterialTable\n        title=\"All Users\"\n        columns={[\n          { title: \"ID\", field: \"id\" },\n          { title: \"Name\", field: \"name\" },\n          { title: \"Surname\", field: \"surname\" },\n          { title: \"Email\", field: \"email\" },\n          { title: \"Items Bought\", field: \"itemsBought\", type: \"numeric\" },\n          { title: \"Money Spent\", field: \"moneySpent\", type: \"numeric\" },\n          { title: \"Premium\", field: \"isPremium\" }\n        ]}\n        data={parseUserData(this.state.data)}\n        detailPanel={rowData => {\n          return <OrderTable userId={rowData.id} />;\n        }}\n        editable={{\n          onRowDelete: oldData =>\n            fetch(`http://localhost:3001/api/admin/${oldData.id}`, {\n              method: \"DELETE\",\n              credentials: \"include\"\n            })\n              .then(response => response.json())\n              .then(json => {\n                if (json !== null) {\n                  window.location.reload();\n                }\n                else{\n                  console.log(\"Deletion Failed\")\n                }\n              })\n        }}\n      />\n    );\n  }\n}\n\nexport default UserTable;\n"]},"metadata":{},"sourceType":"module"}