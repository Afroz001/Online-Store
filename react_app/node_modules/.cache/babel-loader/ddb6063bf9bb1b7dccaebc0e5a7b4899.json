{"ast":null,"code":"const CartReducer = (state = [], action) => {\n  let newState;\n  let index;\n\n  switch (action.type) {\n    case 'ADD_ITEM':\n      if (state.find(item => item.id === action.item.id && item.category === action.item.category) === undefined) {\n        return [...state, Object.assign(action.item, {\n          count: 1\n        })];\n      } else {\n        newState = Array.from(Object.create(state));\n        newState.find(item => item.id === action.item.id && item.category === action.item.category).count += 1;\n        return newState;\n      }\n\n    case 'CLEAR_CART':\n      newState = [];\n      return newState;\n\n    case 'REMOVE_ITEM':\n      index = state.findIndex(item => item.id === action.item.id && item.category === action.item.category);\n\n      if (index !== -1) {\n        if (state[index].count === 1) {\n          state.splice(index, 1);\n        } else {\n          state[index].count -= 1;\n        }\n\n        newState = Array.from(Object.create(state));\n        return newState;\n      }\n\n      return state;\n\n    case 'DELETE_ITEM':\n      index = state.findIndex(item => item.id === action.item.id && item.category === action.item.category);\n\n      if (index !== -1) {\n        state.splice(index, 1);\n        newState = Array.from(Object.create(state));\n        return newState;\n      }\n\n      return state;\n\n    default:\n      return state;\n  }\n};\n\nexport default CartReducer;","map":{"version":3,"sources":["/Users/steutama/Documents/Documents/team19/react_app/src/redux/reducers/CartReducer.js"],"names":["CartReducer","state","action","newState","index","type","find","item","id","category","undefined","Object","assign","count","Array","from","create","findIndex","splice"],"mappings":"AAAA,MAAMA,WAAW,GAAG,CAACC,KAAK,GAAG,EAAT,EAAaC,MAAb,KAAwB;AACxC,MAAIC,QAAJ;AACA,MAAIC,KAAJ;;AAEA,UAAOF,MAAM,CAACG,IAAd;AACI,SAAK,UAAL;AACI,UAAGJ,KAAK,CAACK,IAAN,CAAWC,IAAI,IAAEA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACK,IAAP,CAAYC,EAAxB,IACbD,IAAI,CAACE,QAAL,KAAkBP,MAAM,CAACK,IAAP,CAAYE,QADlC,MACgDC,SADnD,EAC8D;AAC1D,eAAO,CAAC,GAAGT,KAAJ,EAAUU,MAAM,CAACC,MAAP,CAAcV,MAAM,CAACK,IAArB,EAA2B;AAACM,UAAAA,KAAK,EAAC;AAAP,SAA3B,CAAV,CAAP;AACH,OAHD,MAGO;AACHV,QAAAA,QAAQ,GAAGW,KAAK,CAACC,IAAN,CAAWJ,MAAM,CAACK,MAAP,CAAcf,KAAd,CAAX,CAAX;AAEAE,QAAAA,QAAQ,CAACG,IAAT,CAAcC,IAAI,IAAEA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACK,IAAP,CAAYC,EAAxB,IACbD,IAAI,CAACE,QAAL,KAAkBP,MAAM,CAACK,IAAP,CAAYE,QADrC,EAC+CI,KAD/C,IACwD,CADxD;AAEA,eAAOV,QAAP;AACH;;AACL,SAAK,YAAL;AACIA,MAAAA,QAAQ,GAAG,EAAX;AACA,aAAOA,QAAP;;AACJ,SAAK,aAAL;AACIC,MAAAA,KAAK,GAAGH,KAAK,CAACgB,SAAN,CAAgBV,IAAI,IAAEA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACK,IAAP,CAAYC,EAAxB,IACvBD,IAAI,CAACE,QAAL,KAAkBP,MAAM,CAACK,IAAP,CAAYE,QAD7B,CAAR;;AAEA,UAAIL,KAAK,KAAK,CAAC,CAAf,EAAkB;AACd,YAAIH,KAAK,CAACG,KAAD,CAAL,CAAaS,KAAb,KAAuB,CAA3B,EAA6B;AAC1BZ,UAAAA,KAAK,CAACiB,MAAN,CAAad,KAAb,EAAmB,CAAnB;AACF,SAFD,MAEO;AACHH,UAAAA,KAAK,CAACG,KAAD,CAAL,CAAaS,KAAb,IAAsB,CAAtB;AACH;;AACDV,QAAAA,QAAQ,GAAGW,KAAK,CAACC,IAAN,CAAWJ,MAAM,CAACK,MAAP,CAAcf,KAAd,CAAX,CAAX;AACA,eAAOE,QAAP;AACH;;AACD,aAAOF,KAAP;;AACJ,SAAK,aAAL;AACIG,MAAAA,KAAK,GAAGH,KAAK,CAACgB,SAAN,CAAgBV,IAAI,IAAEA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACK,IAAP,CAAYC,EAAxB,IACvBD,IAAI,CAACE,QAAL,KAAkBP,MAAM,CAACK,IAAP,CAAYE,QAD7B,CAAR;;AAEA,UAAIL,KAAK,KAAK,CAAC,CAAf,EAAkB;AACdH,QAAAA,KAAK,CAACiB,MAAN,CAAad,KAAb,EAAmB,CAAnB;AACAD,QAAAA,QAAQ,GAAGW,KAAK,CAACC,IAAN,CAAWJ,MAAM,CAACK,MAAP,CAAcf,KAAd,CAAX,CAAX;AACA,eAAOE,QAAP;AACH;;AACD,aAAOF,KAAP;;AACJ;AACI,aAAOA,KAAP;AAtCR;AAwCH,CA5CD;;AA8CA,eAAeD,WAAf","sourcesContent":["const CartReducer = (state = [], action) => {\n    let newState;\n    let index;\n\n    switch(action.type){\n        case 'ADD_ITEM':\n            if(state.find(item=>item.id === action.item.id\n                && item.category === action.item.category) === undefined) {\n                return [...state,Object.assign(action.item, {count:1})]\n            } else {\n                newState = Array.from(Object.create(state));\n\n                newState.find(item=>item.id === action.item.id\n                    && item.category === action.item.category).count += 1;\n                return newState;\n            }\n        case 'CLEAR_CART':\n            newState = [];\n            return newState;\n        case 'REMOVE_ITEM':\n            index = state.findIndex(item=>item.id === action.item.id\n                && item.category === action.item.category);\n            if (index !== -1) {\n                if (state[index].count === 1){\n                   state.splice(index,1);\n                } else {\n                    state[index].count -= 1;\n                }\n                newState = Array.from(Object.create(state));\n                return newState;\n            }\n            return state;\n        case 'DELETE_ITEM':\n            index = state.findIndex(item=>item.id === action.item.id\n                && item.category === action.item.category);\n            if (index !== -1) {\n                state.splice(index,1);\n                newState = Array.from(Object.create(state));\n                return newState;\n            }\n            return state;\n        default:\n            return state\n    }\n}\n\nexport default CartReducer"]},"metadata":{},"sourceType":"module"}