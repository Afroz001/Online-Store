{"ast":null,"code":"var _jsxFileName = \"/Users/steutama/Documents/Documents/team19/react_app/src/components/AccountProfile/AccountProfile.js\";\nimport React, { Component } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport { withRouter } from \"react-router-dom\";\nimport { Grid, Icon, Header, Message } from \"semantic-ui-react\";\nimport \"./Profile.css\";\n\nclass AccountProfile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: null,\n      firstName: \"default\",\n      lastName: \"default\",\n      email: \"default\",\n      isPremium: false,\n      fail: false\n    };\n  }\n\n  handlePremium() {\n    if (this.state.isPremium === false) {\n      this.state.isPremium = true;\n      fetch(\"http://localhost:3001/api/profile/edit\", {\n        method: \"PATCH\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\",\n        body: JSON.stringify({\n          isPremium: this.state.isPremium\n        })\n      }).then(res => {\n        if (res.status === 500) {\n          this.setState({\n            fail: true\n          });\n        } // else {\n        //   // this.props.dispatch(sign_in());\n        //   this.props.history.push(\"/\");\n        // }\n\n      });\n    }\n  }\n\n  componentDidMount() {\n    // console.log(this.props.match.params.profileId);\n    fetch(\"http://localhost:3001/api/profile\", {\n      method: \"GET\",\n      credentials: \"include\"\n    }).then(response => response.json()).then(json => {\n      if (json === null) {\n        this.props.history.push(\"/login\");\n      } else {\n        this.setState({\n          id: json._id,\n          firstName: json.firstName,\n          lastName: json.lastName,\n          email: json.email,\n          isPremium: json.isPremium\n        });\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      textAlign: \"center\",\n      style: {\n        height: \"100%\"\n      },\n      verticalAlign: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Grid.Column, {\n      style: {\n        maxWidth: 450,\n        marginTop: \"25vh\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Header, {\n      as: \"h2\",\n      style: {\n        color: \"#5e35b1\"\n      },\n      textAlign: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), \" \", this.state.firstName || \"\", \" \", this.state.lastName), React.createElement(Header, {\n      as: \"h2\",\n      style: {\n        color: \"#29ABE2\"\n      },\n      textAlign: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"mail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), \" \", this.state.email), React.createElement(Message, {\n      className: \"message\",\n      onClick: () => {\n        this.props.history.push(\"/editProfile/\".concat(this.state.id));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Click here to edit your profile\"), React.createElement(Button, {\n      onClick: () => {\n        this.handlePremium();\n      },\n      style: {\n        width: 300\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Become a Premium Member\"), this.state.isPremium && React.createElement(\"div\", {\n      style: {\n        color: \"blue\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Thank you for being a premium member!\"))));\n  }\n\n}\n\nexport default withRouter(AccountProfile);","map":{"version":3,"sources":["/Users/steutama/Documents/Documents/team19/react_app/src/components/AccountProfile/AccountProfile.js"],"names":["React","Component","Button","withRouter","Grid","Icon","Header","Message","AccountProfile","constructor","props","state","id","firstName","lastName","email","isPremium","fail","handlePremium","fetch","method","headers","Accept","credentials","body","JSON","stringify","then","res","status","setState","componentDidMount","response","json","history","push","_id","render","height","maxWidth","marginTop","color","width"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport { withRouter } from \"react-router-dom\";\nimport { Grid, Icon, Header, Message } from \"semantic-ui-react\";\nimport \"./Profile.css\";\n\nclass AccountProfile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: null,\n      firstName: \"default\",\n      lastName: \"default\",\n      email: \"default\",\n      isPremium: false,\n      fail: false\n    };\n  }\n  handlePremium() {\n    if (this.state.isPremium === false) {\n      this.state.isPremium = true;\n      fetch(\"http://localhost:3001/api/profile/edit\", {\n        method: \"PATCH\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\",\n        body: JSON.stringify({\n          isPremium: this.state.isPremium\n        })\n      }).then(res => {\n        if (res.status === 500) {\n          this.setState({\n            fail: true\n          });\n        }\n        // else {\n        //   // this.props.dispatch(sign_in());\n        //   this.props.history.push(\"/\");\n        // }\n      });\n    }\n  }\n\n  componentDidMount() {\n    // console.log(this.props.match.params.profileId);\n    fetch(\"http://localhost:3001/api/profile\", {\n      method: \"GET\",\n      credentials: \"include\"\n    })\n      .then(response => response.json())\n      .then(json => {\n        if (json === null) {\n          this.props.history.push(\"/login\");\n        } else {\n          this.setState({\n            id: json._id,\n            firstName: json.firstName,\n            lastName: json.lastName,\n            email: json.email,\n            isPremium: json.isPremium\n          });\n        }\n      });\n  }\n\n  render() {\n    return (\n      <div>\n        <Grid\n          textAlign=\"center\"\n          style={{ height: \"100%\" }}\n          verticalAlign=\"middle\"\n        >\n          <Grid.Column style={{ maxWidth: 450, marginTop: \"25vh\" }}>\n            <Header as=\"h2\" style={{ color: \"#5e35b1\" }} textAlign=\"left\">\n              <Icon name=\"user\" /> {this.state.firstName || \"\"}{\" \"}\n              {this.state.lastName}\n            </Header>\n            <Header as=\"h2\" style={{ color: \"#29ABE2\" }} textAlign=\"left\">\n              <Icon name=\"mail\" /> {this.state.email}\n            </Header>\n\n            <Message\n              className=\"message\"\n              onClick={() => {\n                this.props.history.push(`/editProfile/${this.state.id}`);\n              }}\n            >\n              Click here to edit your profile\n            </Message>\n            <Button\n              onClick={() => {\n                this.handlePremium();\n              }}\n              style={{ width: 300 }}\n            >\n              Become a Premium Member\n            </Button>\n            {this.state.isPremium && (\n              <div style={{ color: \"blue\" }}>\n                Thank you for being a premium member!\n              </div>\n            )}\n          </Grid.Column>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(AccountProfile);\n"]},"metadata":{},"sourceType":"module"}